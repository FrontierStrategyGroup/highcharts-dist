/*
 Highcharts JS v9.1.2 (2021-08-18)

 Data module

 (c) 2012-2021 Torstein Honsi

 License: www.highcharts.com/license
*/
'use strict';(function(b){"object"===typeof module&&module.exports?(b["default"]=b,module.exports=b):"function"===typeof define&&define.amd?define("highcharts/modules/data",["highcharts"],function(p){b(p);b.Highcharts=p;return b}):b("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(b){function p(b,e,v,p){b.hasOwnProperty(e)||(b[e]=p.apply(null,v))}b=b?b._modules:{};p(b,"Core/HttpUtilities.js",[b["Core/Globals.js"],b["Core/Utilities.js"]],function(b,e){var p=b.doc,u=e.createElement,D=e.discardElement,
q=e.merge,E=e.objectEach,y={ajax:function(b){var h=q(!0,{url:!1,type:"get",dataType:"json",success:!1,error:!1,data:!1,headers:{}},b);b={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"};var e=new XMLHttpRequest;if(!h.url)return!1;e.open(h.type.toUpperCase(),h.url,!0);h.headers["Content-Type"]||e.setRequestHeader("Content-Type",b[h.dataType]||b.text);E(h.headers,function(b,h){e.setRequestHeader(h,b)});e.onreadystatechange=function(){if(4===e.readyState){if(200===
e.status){var b=e.responseText;if("json"===h.dataType)try{b=JSON.parse(b)}catch(A){h.error&&h.error(e,A);return}return h.success&&h.success(b)}h.error&&h.error(e,e.responseText)}};try{h.data=JSON.stringify(h.data)}catch(F){}e.send(h.data||!0)},getJSON:function(b,e){y.ajax({url:b,success:e,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:function(b,e,v){var h=u("form",q({method:"post",action:b,enctype:"multipart/form-data"},v),{display:"none"},p.body);E(e,function(b,e){u("input",{type:"hidden",
name:e,value:b},null,h)});h.submit();D(h)}};"";return y});p(b,"Extensions/Data.js",[b["Core/Chart/Chart.js"],b["Core/Globals.js"],b["Core/HttpUtilities.js"],b["Core/Series/Point.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],function(b,e,p,H,D,q){var u=e.doc,y=p.ajax,v=D.seriesTypes;p=q.addEvent;var h=q.defined,I=q.extend,F=q.fireEvent,A=q.isNumber,B=q.merge,J=q.objectEach,K=q.pick,L=q.splat;q=function(){function b(a,c,l){this.options=this.rawColumns=this.firstRowAsNames=this.chartOptions=
this.chart=void 0;this.dateFormats={"YYYY/mm/dd":{regex:/^([0-9]{4})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{1,2})$/,parser:function(a){return a?Date.UTC(+a[1],a[2]-1,+a[3]):NaN}},"dd/mm/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(a){return a?Date.UTC(+a[3],a[2]-1,+a[1]):NaN},alternative:"mm/dd/YYYY"},"mm/dd/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(a){return a?Date.UTC(+a[3],a[1]-1,+a[2]):NaN}},"dd/mm/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,
parser:function(a){if(!a)return NaN;var c=+a[3];c=c>(new Date).getFullYear()-2E3?c+1900:c+2E3;return Date.UTC(c,a[2]-1,+a[1])},alternative:"mm/dd/YY"},"mm/dd/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,parser:function(a){return a?Date.UTC(+a[3]+2E3,a[1]-1,+a[2]):NaN}}};this.init(a,c,l)}b.prototype.init=function(a,c,l){var d=a.decimalPoint;c&&(this.chartOptions=c);l&&(this.chart=l);"."!==d&&","!==d&&(d=void 0);this.options=a;this.columns=a.columns||this.rowsToColumns(a.rows)||
[];this.firstRowAsNames=K(a.firstRowAsNames,this.firstRowAsNames,!0);this.decimalRegex=d&&new RegExp("^(-?[0-9]+)"+d+"([0-9]+)$");this.rawColumns=[];if(this.columns.length){this.dataFound();var f=!0}this.hasURLOption(a)&&(clearTimeout(this.liveDataTimeout),f=!1);f||(f=this.fetchLiveData());f||(f=!!this.parseCSV().length);f||(f=!!this.parseTable().length);f||(f=this.parseGoogleSpreadsheet());!f&&a.afterComplete&&a.afterComplete()};b.prototype.hasURLOption=function(a){return!(!a||!(a.rowsURL||a.csvURL||
a.columnsURL))};b.prototype.getColumnDistribution=function(){var a=this.chartOptions,c=this.options,l=[],d=function(a){return(v[a||"line"].prototype.pointArrayMap||[0]).length},f=a&&a.chart&&a.chart.type,k=[],b=[],e=0;c=c&&c.seriesMapping||a&&a.series&&a.series.map(function(){return{x:0}})||[];var n;(a&&a.series||[]).forEach(function(a){k.push(d(a.type||f))});c.forEach(function(a){l.push(a.x||0)});0===l.length&&l.push(0);c.forEach(function(c){var l=new G,m=k[e]||d(f),r=(a&&a.series||[])[e]||{},C=
v[r.type||f||"line"].prototype.pointArrayMap,p=C||["y"];(h(c.x)||r.isCartesian||!C)&&l.addColumnReader(c.x,"x");J(c,function(a,c){"x"!==c&&l.addColumnReader(a,c)});for(n=0;n<m;n++)l.hasReader(p[n])||l.addColumnReader(void 0,p[n]);b.push(l);e++});c=v[f||"line"].prototype.pointArrayMap;"undefined"===typeof c&&(c=["y"]);this.valueCount={global:d(f),xColumns:l,individual:k,seriesBuilders:b,globalPointArrayMap:c}};b.prototype.dataFound=function(){this.options.switchRowsAndColumns&&(this.columns=this.rowsToColumns(this.columns));
this.getColumnDistribution();this.parseTypes();!1!==this.parsed()&&this.complete()};b.prototype.parseCSV=function(a){function c(a,c,l,d){function b(c){k=a[c];g=a[c-1];r=a[c+1]}function f(a){h.length<w+1&&h.push([a]);h[w][h[w].length-1]!==a&&h[w].push(a)}function e(){n>t||t>C?(++t,m=""):(!isNaN(parseFloat(m))&&isFinite(m)?(m=parseFloat(m),f("number")):isNaN(Date.parse(m))?f("string"):(m=m.replace(/\//g,"-"),f("date")),p.length<w+1&&p.push([]),l||(p[w][c]=m),m="",++w,++t)}var x=0,k="",g="",r="",m="",
t=0,w=0;if(a.trim().length&&"#"!==a.trim()[0]){for(;x<a.length;x++)if(b(x),'"'===k)for(b(++x);x<a.length&&('"'!==k||'"'===g||'"'===r);){if('"'!==k||'"'===k&&'"'!==g)m+=k;b(++x)}else d&&d[k]?d[k](k,m)&&e():k===q?e():m+=k;e()}}function l(a){var c=0,l=0,d=!1;a.some(function(a,d){var b=!1,f="";if(13<d)return!0;for(var k=0;k<a.length;k++){d=a[k];var e=a[k+1];var n=a[k-1];if("#"===d)break;if('"'===d)if(b){if('"'!==n&&'"'!==e){for(;" "===e&&k<a.length;)e=a[++k];"undefined"!==typeof t[e]&&t[e]++;b=!1}}else b=
!0;else"undefined"!==typeof t[d]?(f=f.trim(),isNaN(Date.parse(f))?!isNaN(f)&&isFinite(f)||t[d]++:t[d]++,f=""):f+=d;","===d&&l++;"."===d&&c++}});d=t[";"]>t[","]?";":",";b.decimalPoint||(b.decimalPoint=c>l?".":",",f.decimalRegex=new RegExp("^(-?[0-9]+)"+b.decimalPoint+"([0-9]+)$"));return d}function d(a,c){var d=[],l=0,k=!1,e=[],n=[],g;if(!c||c>a.length)c=a.length;for(;l<c;l++)if("undefined"!==typeof a[l]&&a[l]&&a[l].length){var m=a[l].trim().replace(/\//g," ").replace(/\-/g," ").replace(/\./g," ").split(" ");
d=["","",""];for(g=0;g<m.length;g++)g<d.length&&(m[g]=parseInt(m[g],10),m[g]&&(n[g]=!n[g]||n[g]<m[g]?m[g]:n[g],"undefined"!==typeof e[g]?e[g]!==m[g]&&(e[g]=!1):e[g]=m[g],31<m[g]?d[g]=100>m[g]?"YY":"YYYY":12<m[g]&&31>=m[g]?(d[g]="dd",k=!0):d[g].length||(d[g]="mm")))}if(k){for(g=0;g<e.length;g++)!1!==e[g]?12<n[g]&&"YY"!==d[g]&&"YYYY"!==d[g]&&(d[g]="YY"):12<n[g]&&"mm"===d[g]&&(d[g]="dd");3===d.length&&"dd"===d[1]&&"dd"===d[2]&&(d[2]="YY");a=d.join("/");return(b.dateFormats||f.dateFormats)[a]?a:(F("deduceDateFailed"),
"YYYY/mm/dd")}return"YYYY/mm/dd"}var f=this,b=a||this.options,e=b.csv;a="undefined"!==typeof b.startRow&&b.startRow?b.startRow:0;var r=b.endRow||Number.MAX_VALUE,n="undefined"!==typeof b.startColumn&&b.startColumn?b.startColumn:0,C=b.endColumn||Number.MAX_VALUE,g=0,h=[],t={",":0,";":0,"\t":0};var p=this.columns=[];e&&b.beforeParse&&(e=b.beforeParse.call(this,e));if(e){e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split(b.lineDelimiter||"\n");if(!a||0>a)a=0;if(!r||r>=e.length)r=e.length-1;if(b.itemDelimiter)var q=
b.itemDelimiter;else q=null,q=l(e);var z=0;for(g=a;g<=r;g++)"#"===e[g][0]?z++:c(e[g],g-a-z);b.columnTypes&&0!==b.columnTypes.length||!h.length||!h[0].length||"date"!==h[0][1]||b.dateFormat||(b.dateFormat=d(p[0]));this.dataFound()}return p};b.prototype.parseTable=function(){var a=this.options,c=a.table,l=this.columns||[],d=a.startRow||0,b=a.endRow||Number.MAX_VALUE,k=a.startColumn||0,e=a.endColumn||Number.MAX_VALUE;c&&("string"===typeof c&&(c=u.getElementById(c)),[].forEach.call(c.getElementsByTagName("tr"),
function(a,c){c>=d&&c<=b&&[].forEach.call(a.children,function(a,b){var f=l[b-k],g=1;if(("TD"===a.tagName||"TH"===a.tagName)&&b>=k&&b<=e)for(l[b-k]||(l[b-k]=[]),l[b-k][c-d]=a.innerHTML;c-d>=g&&void 0===f[c-d-g];)f[c-d-g]=null,g++})}),this.dataFound());return l};b.prototype.fetchLiveData=function(){function a(f){function k(g,k,n){function r(){e&&l.liveDataURL===g&&(c.liveDataTimeout=setTimeout(a,m))}if(!g||!/^(http|\/|\.\/|\.\.\/)/.test(g))return g&&d.error&&d.error("Invalid URL"),!1;f&&(clearTimeout(c.liveDataTimeout),
l.liveDataURL=g);y({url:g,dataType:n||"json",success:function(a){l&&l.series&&k(a);r()},error:function(a,c){3>++b&&r();return d.error&&d.error(c,a)}});return!0}k(r.csvURL,function(a){l.update({data:{csv:a}})},"text")||k(r.rowsURL,function(a){l.update({data:{rows:a}})})||k(r.columnsURL,function(a){l.update({data:{columns:a}})})}var c=this,l=this.chart,d=this.options,b=0,e=d.enablePolling,m=1E3*(d.dataRefreshRate||2),r=B(d);if(!this.hasURLOption(d))return!1;1E3>m&&(m=1E3);delete d.csvURL;delete d.rowsURL;
delete d.columnsURL;a(!0);return this.hasURLOption(d)};b.prototype.parseGoogleSpreadsheet=function(){function a(c){var l=["https://sheets.googleapis.com/v4/spreadsheets",f,"values",e,"?alt=json&majorDimension=COLUMNS&key="+d].join("/");y({url:l,dataType:"json",success:function(d){c(d);b.enablePolling&&setTimeout(function(){a(c)},1E3*(b.dataRefreshRate||2))},error:function(a,c){return b.error&&b.error(c,a)}})}var c=this,b=this.options,d=b.googleApiKey,f=b.googleSpreadsheetKey,k=this.chart,e=b.googleSpreadsheetWorksheet||
1,r=1E3*(b.dataRefreshRate||2);4E3>r&&(r=4E3);f&&(delete b.googleSpreadsheetKey,a(function(a){var d=[];a=a.values;var b;if(!a||0===a.length)return!1;d=a;d.forEach(function(a){for(b=0;b<a.length;b++)"undefined"===typeof a[b]&&(a[b]=null)});k&&k.series?k.update({data:{columns:d}}):(c.columns=d,c.dataFound())}));return!1};b.prototype.trim=function(a,c){"string"===typeof a&&(a=a.replace(/^\s+|\s+$/g,""),c&&/^[0-9\s]+$/.test(a)&&(a=a.replace(/\s/g,"")),this.decimalRegex&&(a=a.replace(this.decimalRegex,
"$1.$2")));return a};b.prototype.parseTypes=function(){for(var a=this.columns,c=a.length;c--;)this.parseColumn(a[c],c)};b.prototype.parseColumn=function(a,c){var b=this.rawColumns,d=this.columns,f=a.length,e=this.firstRowAsNames,m=-1!==this.valueCount.xColumns.indexOf(c),r,n=[],h=this.chartOptions,g,p=(this.options.columnTypes||[])[c];h=m&&(h&&h.xAxis&&"category"===L(h.xAxis)[0].type||"string"===p);for(b[c]||(b[c]=[]);f--;){var t=n[f]||a[f];var q=this.trim(t);var z=this.trim(t,!0);var u=parseFloat(z);
"undefined"===typeof b[c][f]&&(b[c][f]=q);h||0===f&&e?a[f]=""+q:+z===u?(a[f]=u,31536E6<u&&"float"!==p?a.isDatetime=!0:a.isNumeric=!0,"undefined"!==typeof a[f+1]&&(g=u>a[f+1])):(q&&q.length&&(r=this.parseDate(t)),m&&A(r)&&"float"!==p?(n[f]=t,a[f]=r,a.isDatetime=!0,"undefined"!==typeof a[f+1]&&(t=r>a[f+1],t!==g&&"undefined"!==typeof g&&(this.alternativeFormat?(this.dateFormat=this.alternativeFormat,f=a.length,this.alternativeFormat=this.dateFormats[this.dateFormat].alternative):a.unsorted=!0),g=t)):
(a[f]=""===q?null:q,0!==f&&(a.isDatetime||a.isNumeric)&&(a.mixed=!0)))}m&&a.mixed&&(d[c]=b[c]);if(m&&g&&this.options.sort)for(c=0;c<d.length;c++)d[c].reverse(),e&&d[c].unshift(d[c].pop())};b.prototype.parseDate=function(a){var c=this.options.parseDate,b,d=this.options.dateFormat||this.dateFormat,f;if(c)var e=c(a);else if("string"===typeof a){if(d)(c=this.dateFormats[d])||(c=this.dateFormats["YYYY/mm/dd"]),(f=a.match(c.regex))&&(e=c.parser(f));else for(b in this.dateFormats)if(c=this.dateFormats[b],
f=a.match(c.regex)){this.dateFormat=b;this.alternativeFormat=c.alternative;e=c.parser(f);break}f||(a.match(/:.+(GMT|UTC|[Z+-])/)&&(a=a.replace(/\s*(?:GMT|UTC)?([+-])(\d\d)(\d\d)$/,"$1$2:$3").replace(/(?:\s+|GMT|UTC)([+-])/,"$1").replace(/(\d)\s*(?:GMT|UTC|Z)$/,"$1+00:00")),f=Date.parse(a),"object"===typeof f&&null!==f&&f.getTime?e=f.getTime()-6E4*f.getTimezoneOffset():A(f)&&(e=f-6E4*(new Date(f)).getTimezoneOffset()))}return e};b.prototype.rowsToColumns=function(a){var c,b;if(a){var d=[];var f=a.length;
for(c=0;c<f;c++){var e=a[c].length;for(b=0;b<e;b++)d[b]||(d[b]=[]),d[b][c]=a[c][b]}}return d};b.prototype.getData=function(){if(this.columns)return this.rowsToColumns(this.columns).slice(1)};b.prototype.parsed=function(){if(this.options.parsed)return this.options.parsed.call(this,this.columns)};b.prototype.getFreeIndexes=function(a,c){var b,d=[],f=[];for(b=0;b<a;b+=1)d.push(!0);for(a=0;a<c.length;a+=1){var e=c[a].getReferencedColumnIndexes();for(b=0;b<e.length;b+=1)d[e[b]]=!1}for(b=0;b<d.length;b+=
1)d[b]&&f.push(b);return f};b.prototype.complete=function(){var a=this.columns,b,e=this.options,d,f,k=[];if(e.complete||e.afterComplete){if(this.firstRowAsNames)for(d=0;d<a.length;d++)a[d].name=a[d].shift();var m=[];var h=this.getFreeIndexes(a.length,this.valueCount.seriesBuilders);for(d=0;d<this.valueCount.seriesBuilders.length;d++){var n=this.valueCount.seriesBuilders[d];n.populateColumns(h)&&k.push(n)}for(;0<h.length;){n=new G;n.addColumnReader(0,"x");d=h.indexOf(0);-1!==d&&h.splice(d,1);for(d=
0;d<this.valueCount.global;d++)n.addColumnReader(void 0,this.valueCount.globalPointArrayMap[d]);n.populateColumns(h)&&k.push(n)}0<k.length&&0<k[0].readers.length&&(n=a[k[0].readers[0].columnIndex],"undefined"!==typeof n&&(n.isDatetime?b="datetime":n.isNumeric||(b="category")));if("category"===b)for(d=0;d<k.length;d++)for(n=k[d],h=0;h<n.readers.length;h++)"x"===n.readers[h].configName&&(n.readers[h].configName="name");for(d=0;d<k.length;d++){n=k[d];h=[];for(f=0;f<a[0].length;f++)h[f]=n.read(a,f);m[d]=
{data:h};n.name&&(m[d].name=n.name);"category"===b&&(m[d].turboThreshold=0)}a={series:m};b&&(a.xAxis={type:b},"category"===b&&(a.xAxis.uniqueNames=!1));e.complete&&e.complete(a);e.afterComplete&&e.afterComplete(a)}};b.prototype.update=function(a,b){var c=this.chart;a&&(a.afterComplete=function(a){a&&(a.xAxis&&c.xAxis[0]&&a.xAxis.type===c.xAxis[0].options.type&&delete a.xAxis,c.update(a,b,!0))},B(!0,c.options.data,a),this.init(c.options.data))};return b}();e.data=function(b,a,c){return new e.Data(b,
a,c)};p(b,"init",function(b){var a=this,c=b.args[0]||{},l=b.args[1];c&&c.data&&!a.hasDataDef&&(a.hasDataDef=!0,a.data=new e.Data(I(c.data,{afterComplete:function(b){var d;if(Object.hasOwnProperty.call(c,"series"))if("object"===typeof c.series)for(d=Math.max(c.series.length,b&&b.series?b.series.length:0);d--;){var e=c.series[d]||{};c.series[d]=B(e,b&&b.series?b.series[d]:{})}else delete c.series;c=B(b,c);a.init(c,l)}}),c,a),b.preventDefault())});var G=function(){function b(){this.readers=[];this.pointIsArray=
!0;this.name=void 0}b.prototype.populateColumns=function(a){var b=!0;this.readers.forEach(function(b){"undefined"===typeof b.columnIndex&&(b.columnIndex=a.shift())});this.readers.forEach(function(a){"undefined"===typeof a.columnIndex&&(b=!1)});return b};b.prototype.read=function(a,b){var c=this.pointIsArray,d=c?[]:{};this.readers.forEach(function(e){var f=a[e.columnIndex][b];c?d.push(f):0<e.configName.indexOf(".")?H.prototype.setNestedProperty(d,f,e.configName):d[e.configName]=f});if("undefined"===
typeof this.name&&2<=this.readers.length){var e=this.getReferencedColumnIndexes();2<=e.length&&(e.shift(),e.sort(function(a,b){return a-b}),this.name=a[e.shift()].name)}return d};b.prototype.addColumnReader=function(a,b){this.readers.push({columnIndex:a,configName:b});"x"!==b&&"y"!==b&&"undefined"!==typeof b&&(this.pointIsArray=!1)};b.prototype.getReferencedColumnIndexes=function(){var a,b=[];for(a=0;a<this.readers.length;a+=1){var e=this.readers[a];"undefined"!==typeof e.columnIndex&&b.push(e.columnIndex)}return b};
b.prototype.hasReader=function(a){var b;for(b=0;b<this.readers.length;b+=1){var e=this.readers[b];if(e.configName===a)return!0}};return b}();e.Data=q;return e.Data});p(b,"masters/modules/data.src.js",[b["Core/Globals.js"],b["Core/HttpUtilities.js"]],function(b,e){b.HttpUtilities=e;b.ajax=e.ajax;b.getJSON=e.getJSON;b.post=e.post})});
//# sourceMappingURL=data.js.map